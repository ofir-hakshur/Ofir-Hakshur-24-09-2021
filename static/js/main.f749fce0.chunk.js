(this.webpackJsonpherolo=this.webpackJsonpherolo||[]).push([[0],{64:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(20),i=n.n(a),o=n(19),s=n(38),u=n(12),l=n(10),d=n.n(l),j=n(13),h=n(15),b=n.n(h),p=n(11),m=n.n(p),f={tempEndPoint:"https://jsonplaceholder.typicode.com/users",apikey:"ZSqquvHhCYForYQWzUKukJNOLbLDOZ1S",telAvivKey:"215854",baseRoute:"https://dataservice.accuweather.com",autoCompleteApiEndPoint:"locations/v1/cities/autocomplete",currentWeatherEndPoint:"currentconditions/v1",dailyWeatherEndPoint:"forecasts/v1/daily/5day",geoPositionEndPoint:"locations/v1/cities/geoposition/search"},v=(n(64),{ONE_SECOND:1e3,TEL_AVIV:"Tel Aviv",FAHRENHEIT:"F",CELSIUS:"C",DAYS:{0:"Sun",1:"Mon",2:"Tue",3:"Wed",4:"Thu",5:"Fri",6:"Sat"}}),O=function(e){var t=new Date(e).getDay();return v.DAYS[t]},y=function(e,t){if(e==v.FAHRENHEIT)return t;var n=function(e){return 5/9*(e-32)}(t);return Number.parseFloat(n).toPrecision(3)},x=function(e){return"home-layout-"+e},N=n(4),C=(n(68),n(1));var g=function(e){var t=e.display;return Object(C.jsx)("i",{className:"fa".concat(t?"s":"r"," fa-heart like-margin")})},E=function(e){return{type:"CHANGE_CITY",payload:e}},k=function(e){return{type:"CHANGE_DAILY",payload:e}},T=function(e){var t=e.isCurrentCityInFavoriteList,n=e.addToFavorites,r=e.removeFromFavorites,c=e.currentCityName,a=Object(N.c)((function(e){return e.units})),i=Object(N.c)((function(e){return e.currentCityWeather})),o=Object(N.b)();return Object(C.jsxs)("div",{className:"btns-wrapper",children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{className:"btn btn-secondary",onClick:function(){return o({type:"TO_CELSIUS"})},hidden:a==v.CELSIUS,children:"celsius"}),Object(C.jsx)("button",{className:"btn btn-secondary",onClick:function(){return o({type:"TO_FARHENHEIT"})},hidden:a==v.FAHRENHEIT,children:"fahrenheit"})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)(g,{display:t()}),Object(C.jsx)("button",{className:"btn btn-success",hidden:t(),onClick:function(){return n({cityWeather:i[0],cityName:c})},children:"add to favorites"}),Object(C.jsx)("button",{className:"btn btn-danger",hidden:!t(),onClick:function(){return r({cityWeather:i[0],cityName:c})},children:"remove from favorites"})]})]})},F=function(e){var t=e.currentCityName,n=Object(N.c)((function(e){return e.units})),r=Object(N.c)((function(e){return e.currentCityWeather}));return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"home-box home-currentWeather",children:[t," ",r&&0!=r.length&&y(n,r[0].Temperature.Imperial.Value),Object(C.jsx)("span",{className:"home-minorMargin",children:n==v.FAHRENHEIT?Object(C.jsx)("span",{children:"\u2109"}):Object(C.jsx)("span",{children:"\u2103"})})]}),Object(C.jsx)("div",{className:"home-weatherText",children:r&&0!=r.length&&r[0].WeatherText})]})},A=function(){var e=Object(N.c)((function(e){return e.units})),t=Object(N.c)((function(e){return e.currentDaily}));return Object(C.jsx)("div",{className:"row row-cols-auto",children:!b.a.isEmpty(t)&&t.DailyForecasts.map((function(t){return Object(C.jsxs)("div",{className:"home-box home-margin",children:[y(e,t.Temperature.Minimum.Value)," - ",y(e,t.Temperature.Maximum.Value),Object(C.jsx)("span",{className:"home-minorMargin",children:e==v.FAHRENHEIT?Object(C.jsx)("span",{children:"\u2109"}):Object(C.jsx)("span",{children:"\u2103"})}),Object(C.jsx)("div",{children:O(t.Date)})]},t.EpochDate)}))})},w=function(e){var t=e.textBox,n=e.handleTextBoxOnChange,r=e.suggestedCities,c=e.handleCityOnClick;return Object(C.jsxs)("div",{className:"home-textBox",children:[Object(C.jsx)("input",{type:"text",placeholder:"Search..",value:t,onChange:function(e){return n(e.currentTarget.value)}}),Object(C.jsx)("div",{className:"home-suggestedCities",children:r.length>0&&Object(C.jsx)("div",{children:r.map((function(e){return Object(C.jsx)("div",{className:"home-autocompleteItems",children:Object(C.jsx)("span",{onClick:function(){return c(e.LocalizedName)},children:e.LocalizedName})},e.Key)}))})})]})},H=function(e){var t=e.favoriteCities,n=e.addToFavorites,c=e.removeFromFavorites,a=e.currentCityName,i=e.setCurrentCityName,o=Object(N.c)((function(e){return e.themes})),s=Object(N.c)((function(e){return e.currentCityWeather})),l=Object(N.b)(),b=Object(r.useState)([]),p=Object(u.a)(b,2),O=p[0],y=p[1],g=Object(r.useState)(""),H=Object(u.a)(g,2),I=H[0],S=H[1],W=Object(r.useState)(f.telAvivKey),L=Object(u.a)(W,2),R=L[0],D=L[1],P=Object(r.useCallback)(Object(h.debounce)((function(e){return _(e)}),v.ONE_SECOND),[]);Object(r.useEffect)((function(){0==s.length&&navigator.geolocation.getCurrentPosition(z,G)}),[]);var _=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length>0)){e.next=7;break}return e.next=3,m.a.get("".concat(f.baseRoute,"/").concat(f.autoCompleteApiEndPoint),{params:{apikey:f.apikey,q:t}});case 3:n=e.sent,y(n.data),e.next=8;break;case 7:y([]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(t),n=O.filter((function(e){return e.LocalizedName==t}))[0].Key,y([]),n!=R&&V(t,n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(C.jsxs)("div",{className:x(o),children:[Object(C.jsx)(w,{handleTextBoxOnChange:function(e){S(e),P(e)},textBox:I,suggestedCities:O,handleCityOnClick:K}),Object(C.jsx)(T,{isCurrentCityInFavoriteList:function(){return t.filter((function(e){return a==e.cityName})).length>0},addToFavorites:n,removeFromFavorites:c,currentCityName:a}),Object(C.jsxs)("div",{className:"home-margin",children:[Object(C.jsx)(F,{currentCityName:a}),Object(C.jsx)(A,{})]})]});function M(){return(M=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(f.baseRoute,"/").concat(f.currentWeatherEndPoint,"/").concat(f.telAvivKey),{params:{apikey:f.apikey}});case 2:t=e.sent,n=t.data,l(E(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(){return(Y=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(f.baseRoute,"/").concat(f.dailyWeatherEndPoint,"/").concat(f.telAvivKey),{params:{apikey:f.apikey}});case 2:t=e.sent,n=t.data,l(k(n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return B.apply(this,arguments)}function B(){return(B=Object(j.a)(d.a.mark((function e(t){var n,r,c,a,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(t.coords.latitude,",").concat(t.coords.longitude),e.next=3,m.a.get("".concat(f.baseRoute,"/").concat(f.geoPositionEndPoint),{params:{apikey:f.apikey,q:n}});case 3:return r=e.sent,c=r.data.LocalizedName,e.next=7,m.a.get("".concat(f.baseRoute,"/").concat(f.autoCompleteApiEndPoint),{params:{apikey:f.apikey,q:c}});case 7:a=e.sent,i=a.data.filter((function(e){return e.LocalizedName==c}))[0].Key,V(c,i);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){!function(){M.apply(this,arguments)}(),function(){Y.apply(this,arguments)}()}function V(e,t){return q.apply(this,arguments)}function q(){return(q=Object(j.a)(d.a.mark((function e(t,n){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(t),D(n),e.next=4,m.a.get("".concat(f.baseRoute,"/").concat(f.currentWeatherEndPoint,"/").concat(n),{params:{apikey:f.apikey}});case 4:return r=e.sent,e.next=7,m.a.get("".concat(f.baseRoute,"/").concat(f.dailyWeatherEndPoint,"/").concat(n),{params:{apikey:f.apikey}});case 7:c=e.sent,l(E(r.data)),l(k(c.data));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},I=H,S=5,W="Tel Aviv",L=(n(70),function(){var e=Object(N.c)((function(e){return e.themes})),t=Object(N.b)();return Object(C.jsxs)("nav",{className:"navbar-wrapper",children:[Object(C.jsx)("div",{children:"Herolo weather task - Ofir Hakshur"}),Object(C.jsxs)("div",{children:[Object(C.jsx)(o.b,{to:"/",children:"Home"}),Object(C.jsx)(o.b,{to:"/favorites",children:"Favorites"}),Object(C.jsx)("button",{onClick:"light"==e?function(){return t({type:"TO_DARK"})}:function(){return t({type:"TO_LIGHT"})},children:"Dark/Light Theme"})]})]})}),R=n(3);n(72);var D=function(e){var t=e.favoriteCities,n=Object(N.c)((function(e){return e.themes})),r=Object(N.c)((function(e){return e.units}));return Object(C.jsx)("div",{style:{backgroundColor:n},children:Object(C.jsx)("div",{className:"favorites-container ".concat(n),children:Object(C.jsx)("div",{className:"row row-cols-auto",children:t.map((function(e){return Object(C.jsxs)("div",{className:"favorites-box",children:[Object(C.jsx)("div",{children:e.cityName}),Object(C.jsxs)("div",{children:[e.cityWeather.Temperature.Metric.Value," ",Object(C.jsx)("span",{className:"home-minorMargin",children:r==v.FAHRENHEIT?Object(C.jsx)("span",{children:"\u2109"}):Object(C.jsx)("span",{children:"\u2103"})})]}),Object(C.jsx)("div",{children:e.cityWeather.WeatherText})]},e.cityName)}))})})})},P=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(W),i=Object(u.a)(a,2),o=i[0],l=i[1],d=function(e){var t=n.length;if(t>=0&&t<S){var r=[].concat(Object(s.a)(n),[e]);c(r)}},j=function(e){if(0!=n.filter((function(t){return t.cityName==e.cityName})).length){var t=n.filter((function(t){return e.cityName!=t.cityName}));c(t)}};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(L,{}),Object(C.jsxs)(R.c,{children:[Object(C.jsx)(R.a,{path:"/favorites",render:function(){return Object(C.jsx)(D,{favoriteCities:n})}}),Object(C.jsx)(R.a,{path:"/",render:function(){return Object(C.jsx)(I,{currentCityName:o,setCurrentCityName:l,addToFavorites:d,removeFromFavorites:j,favoriteCities:n})}})]})]})},_=(n(73),n(16)),K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"F",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TO_FARHENHEIT":return"F";case"TO_CELSIUS":return"C";default:return e}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TO_LIGHT":return"light";case"TO_DARK":return"dark";default:return e}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"CHANGE_CITY"===t.type?t.payload:e},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"CHANGE_DAILY"===t.type?t.payload:e},B=Object(_.combineReducers)({units:K,themes:M,currentCityWeather:Y,currentDaily:z}),G=n(37),V=Object(_.createStore)(B,Object(G.composeWithDevTools)());i.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(N.a,{store:V,children:Object(C.jsx)(o.a,{children:Object(C.jsx)(P,{})})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.f749fce0.chunk.js.map